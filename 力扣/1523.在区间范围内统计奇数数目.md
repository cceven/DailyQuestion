[1523](https://leetcode.cn/problems/count-odd-numbers-in-an-interval-range/solutions/371283/zai-qu-jian-fan-wei-nei-tong-ji-qi-shu-shu-mu-by-l/?envType=daily-question&envId=2025-12-07)
## 方法一
在指定区间内奇数的个数和偶数的个数最多相差1。如果区间的数字数量是偶数，那么直接$\frac{数量}{2}$就是结果。如果是奇数，就在$\frac{数量}{2}$进一步判断开端是奇数还是偶数，如果是奇数那就+1。
```cpp
class Solution {
public:
    int countOdds(int low, int high) {
        int n = high - low + 1;
        int ans;
        if (n & 1) {
            ans = n / 2 + (low & 1 ? 1 : 0);
        } else {
            ans = n / 2;
        }
        return ans;
    }
};
```
## 方法二
前缀和思想。
推导：
定义函数 $f(x)$ 为从 $0$ 到 $x$ 之间奇数的个数。
- $x=1$ (0,1) -> 1个奇数
- $x=2$ (0,1,2) -> 1个奇数
- $x=3$ (0,1,2,3) -> 2个奇数
- $x=4$ (0,1,2,3,4) -> 2个奇数
- 规律：$f(x) = (x + 1) / 2$ （整数除法）
前high个含有的奇数数量：$\frac{hight+1}{2}$
前low - 1个含有的奇数数量：$\frac{(\text{low} - 1)+1}{2} = \frac{\text{low}}{2}$
```cpp
class Solution {
public:
    int countOdds(int low, int high) { return (high + 1) / 2 - low / 2; }
};
```